<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JVM 字节码 | JAVACORE</title>
    <meta name="generator" content="VuePress 1.9.2">
    <link rel="icon" href="/javacore/img/favicon.ico">
    <meta name="description" content="☕ JavaCore 是一个 Java 核心技术教程。">
    <meta name="keywords" content="vuepress,theme,blog,vdoing">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/javacore/assets/css/0.styles.1e59d8dd.css" as="style"><link rel="preload" href="/javacore/assets/js/app.a913443d.js" as="script"><link rel="preload" href="/javacore/assets/js/2.a3d580fb.js" as="script"><link rel="preload" href="/javacore/assets/js/55.dd38f52a.js" as="script"><link rel="prefetch" href="/javacore/assets/js/10.b014b6d1.js"><link rel="prefetch" href="/javacore/assets/js/11.1b43ce80.js"><link rel="prefetch" href="/javacore/assets/js/12.68d3d704.js"><link rel="prefetch" href="/javacore/assets/js/13.9cbfddfa.js"><link rel="prefetch" href="/javacore/assets/js/14.f651f6c4.js"><link rel="prefetch" href="/javacore/assets/js/15.59af0289.js"><link rel="prefetch" href="/javacore/assets/js/16.9f1adc28.js"><link rel="prefetch" href="/javacore/assets/js/17.fe954107.js"><link rel="prefetch" href="/javacore/assets/js/18.1d260d46.js"><link rel="prefetch" href="/javacore/assets/js/19.046e6501.js"><link rel="prefetch" href="/javacore/assets/js/20.c830b1d7.js"><link rel="prefetch" href="/javacore/assets/js/21.193dceb4.js"><link rel="prefetch" href="/javacore/assets/js/22.7682b872.js"><link rel="prefetch" href="/javacore/assets/js/23.7e772cfc.js"><link rel="prefetch" href="/javacore/assets/js/24.392e7e87.js"><link rel="prefetch" href="/javacore/assets/js/25.5a24aee2.js"><link rel="prefetch" href="/javacore/assets/js/26.de263dad.js"><link rel="prefetch" href="/javacore/assets/js/27.c5312550.js"><link rel="prefetch" href="/javacore/assets/js/28.7f0ae36d.js"><link rel="prefetch" href="/javacore/assets/js/29.b14ef973.js"><link rel="prefetch" href="/javacore/assets/js/3.576101ab.js"><link rel="prefetch" href="/javacore/assets/js/30.a1a4c9cb.js"><link rel="prefetch" href="/javacore/assets/js/31.65c00d20.js"><link rel="prefetch" href="/javacore/assets/js/32.16953892.js"><link rel="prefetch" href="/javacore/assets/js/33.4841cf0e.js"><link rel="prefetch" href="/javacore/assets/js/34.7a95ba5a.js"><link rel="prefetch" href="/javacore/assets/js/35.4f503e09.js"><link rel="prefetch" href="/javacore/assets/js/36.fe360ca4.js"><link rel="prefetch" href="/javacore/assets/js/37.360dbab5.js"><link rel="prefetch" href="/javacore/assets/js/38.95bff437.js"><link rel="prefetch" href="/javacore/assets/js/39.dd3955c4.js"><link rel="prefetch" href="/javacore/assets/js/4.2e9ed9f0.js"><link rel="prefetch" href="/javacore/assets/js/40.0c637617.js"><link rel="prefetch" href="/javacore/assets/js/41.e744d6d5.js"><link rel="prefetch" href="/javacore/assets/js/42.7554d793.js"><link rel="prefetch" href="/javacore/assets/js/43.83a9a94c.js"><link rel="prefetch" href="/javacore/assets/js/44.cc349c76.js"><link rel="prefetch" href="/javacore/assets/js/45.50645902.js"><link rel="prefetch" href="/javacore/assets/js/46.53c485e4.js"><link rel="prefetch" href="/javacore/assets/js/47.24956a05.js"><link rel="prefetch" href="/javacore/assets/js/48.f73ed7f3.js"><link rel="prefetch" href="/javacore/assets/js/49.e8df9a05.js"><link rel="prefetch" href="/javacore/assets/js/5.cdfd81a9.js"><link rel="prefetch" href="/javacore/assets/js/50.810b544d.js"><link rel="prefetch" href="/javacore/assets/js/51.ff3d33ec.js"><link rel="prefetch" href="/javacore/assets/js/52.f5db947f.js"><link rel="prefetch" href="/javacore/assets/js/53.dca761af.js"><link rel="prefetch" href="/javacore/assets/js/54.2c30d5f1.js"><link rel="prefetch" href="/javacore/assets/js/56.7a143b6c.js"><link rel="prefetch" href="/javacore/assets/js/57.d7f66931.js"><link rel="prefetch" href="/javacore/assets/js/58.144cf16e.js"><link rel="prefetch" href="/javacore/assets/js/59.fe219863.js"><link rel="prefetch" href="/javacore/assets/js/6.11e64428.js"><link rel="prefetch" href="/javacore/assets/js/60.4ea1c083.js"><link rel="prefetch" href="/javacore/assets/js/61.ac8d5653.js"><link rel="prefetch" href="/javacore/assets/js/62.152dbcde.js"><link rel="prefetch" href="/javacore/assets/js/63.8ca6aec4.js"><link rel="prefetch" href="/javacore/assets/js/64.2e5d9716.js"><link rel="prefetch" href="/javacore/assets/js/65.fa685490.js"><link rel="prefetch" href="/javacore/assets/js/66.c8f6cd92.js"><link rel="prefetch" href="/javacore/assets/js/67.5d680912.js"><link rel="prefetch" href="/javacore/assets/js/68.83751637.js"><link rel="prefetch" href="/javacore/assets/js/7.53e9b201.js"><link rel="prefetch" href="/javacore/assets/js/8.4dd7c29d.js"><link rel="prefetch" href="/javacore/assets/js/9.3eca7797.js">
    <link rel="stylesheet" href="/javacore/assets/css/0.styles.1e59d8dd.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/javacore/" class="home-link router-link-active"><img src="https://raw.githubusercontent.com/dunwu/images/dev/common/dunwu-logo.png" alt="JAVACORE" class="logo"> <span class="site-name can-hide">JAVACORE</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/javacore/01.基础特性/" class="nav-link">基础特性</a></div><div class="nav-item"><a href="/javacore/02.高级特性/" class="nav-link">高级特性</a></div><div class="nav-item"><a href="/javacore/03.容器/" class="nav-link">容器</a></div><div class="nav-item"><a href="/javacore/04.IO/" class="nav-link">IO</a></div><div class="nav-item"><a href="/javacore/05.并发/" class="nav-link">并发</a></div><div class="nav-item"><a href="/javacore/06.JVM/" class="nav-link">JVM</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">✨ Java系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/java-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javacore/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaCore 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-boot-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Boot 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🎯 博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/javacore" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/javacore/01.基础特性/" class="nav-link">基础特性</a></div><div class="nav-item"><a href="/javacore/02.高级特性/" class="nav-link">高级特性</a></div><div class="nav-item"><a href="/javacore/03.容器/" class="nav-link">容器</a></div><div class="nav-item"><a href="/javacore/04.IO/" class="nav-link">IO</a></div><div class="nav-item"><a href="/javacore/05.并发/" class="nav-link">并发</a></div><div class="nav-item"><a href="/javacore/06.JVM/" class="nav-link">JVM</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">✨ Java系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/java-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javacore/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaCore 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-boot-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Boot 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🎯 博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/javacore" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/javacore/pages/08f153/" class="sidebar-link">JVM 体系结构</a></li><li><a href="/javacore/pages/db5b69/" class="sidebar-link">Java 内存管理</a></li><li><a href="/javacore/pages/c5a5b6/" class="sidebar-link">JVM 垃圾收集</a></li><li><a href="/javacore/pages/e9eb4b/" aria-current="page" class="active sidebar-link">JVM 字节码</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/javacore/pages/e9eb4b/#字节码" class="sidebar-link">字节码</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/javacore/pages/e9eb4b/#什么是字节码" class="sidebar-link">什么是字节码</a></li><li class="sidebar-sub-header level3"><a href="/javacore/pages/e9eb4b/#字节码结构" class="sidebar-link">字节码结构</a></li><li class="sidebar-sub-header level3"><a href="/javacore/pages/e9eb4b/#字节码操作集合" class="sidebar-link">字节码操作集合</a></li><li class="sidebar-sub-header level3"><a href="/javacore/pages/e9eb4b/#操作数栈和字节码" class="sidebar-link">操作数栈和字节码</a></li><li class="sidebar-sub-header level3"><a href="/javacore/pages/e9eb4b/#字节码工具" class="sidebar-link">字节码工具</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/javacore/pages/e9eb4b/#字节码增强" class="sidebar-link">字节码增强</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/javacore/pages/e9eb4b/#asm" class="sidebar-link">Asm</a></li><li class="sidebar-sub-header level4"><a href="/javacore/pages/e9eb4b/#核心-api" class="sidebar-link">核心 API</a></li><li class="sidebar-sub-header level4"><a href="/javacore/pages/e9eb4b/#树形-api" class="sidebar-link">树形 API</a></li><li class="sidebar-sub-header level3"><a href="/javacore/pages/e9eb4b/#javassist" class="sidebar-link">Javassist</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/javacore/pages/e9eb4b/#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/javacore/pages/17aad9/" class="sidebar-link">JVM 类加载</a></li><li><a href="/javacore/pages/16e728/" class="sidebar-link">JavaAgent 应用指南</a></li><li><a href="/javacore/pages/c590ae/" class="sidebar-link">JVM 命令行工具</a></li><li><a href="/javacore/pages/43a8e5/" class="sidebar-link">JVM GUI 工具</a></li><li><a href="/javacore/pages/9cb60a/" class="sidebar-link">JVM 实战</a></li><li><a href="/javacore/pages/84f329/" class="sidebar-link">Java 故障诊断</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1baff76c><div class="articleInfo" data-v-1baff76c><ul class="breadcrumbs" data-v-1baff76c><li data-v-1baff76c><a href="/javacore/" title="首页" class="iconfont icon-home router-link-active" data-v-1baff76c></a></li> <li data-v-1baff76c><a href="/javacore/categories/?category=JVM" title="分类" data-v-1baff76c>JVM</a></li></ul> <div class="info" data-v-1baff76c><div title="作者" class="author iconfont icon-touxiang" data-v-1baff76c><a href="https://github.com/dunwu" target="_blank" title="作者" class="beLink" data-v-1baff76c>dunwu</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-1baff76c><a href="javascript:;" data-v-1baff76c>2019-10-28</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">JVM 字节码<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="jvm-字节码"><a href="#jvm-字节码" class="header-anchor">#</a> JVM 字节码</h1> <p>Java 之所以可以“一次编译，到处运行”，一是因为 JVM 针对各种操作系统、平台都进行了定制，二是因为无论在什么平台，都可以编译生成固定格式的字节码（.class 文件）供 JVM 使用。</p> <p><strong>.class 文件是一组以 8 位字节为基础单位的二进制流</strong>，各个数据项严格按照顺序紧凑地排列在 .class 文件中，中间没有添加任何分隔符。<strong>整个 .class 文件本质上就是一张表</strong>。</p> <h2 id="字节码"><a href="#字节码" class="header-anchor">#</a> 字节码</h2> <h3 id="什么是字节码"><a href="#什么是字节码" class="header-anchor">#</a> 什么是字节码</h3> <p>之所以被称之为字节码，是因为字节码文件由十六进制值组成，而 JVM 以两个十六进制值为一组，即以字节为单位进行读取。在 Java 中一般是用 <code>javac</code> 命令编译源代码为字节码文件，一个.java 文件从编译到运行的示例如下图所示。</p> <p><img src="https://user-gold-cdn.xitu.io/2019/9/10/16d19bdf4493c822?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="图1 Java运行示意图"></p> <p>对于开发人员，了解字节码可以更准确、直观地理解 Java 语言中更深层次的东西，比如通过字节码，可以很直观地看到 Volatile 关键字如何在字节码上生效。另外，字节码增强技术在 Spring AOP、各种 ORM 框架、热部署中的应用屡见不鲜，深入理解其原理对于我们来说大有裨益。除此之外，由于 JVM 规范的存在，只要最终可以生成符合规范的字节码就可以在 JVM 上运行，因此这就给了各种运行在 JVM 上的语言（如 Scala、Groovy、Kotlin）一种契机，可以扩展 Java 所没有的特性或者实现各种语法糖。理解字节码后再学习这些语言，可以“逆流而上”，从字节码视角看它的设计思路，学习起来也“易如反掌”。</p> <h3 id="字节码结构"><a href="#字节码结构" class="header-anchor">#</a> 字节码结构</h3> <p>.java 文件通过 javac 编译后将得到一个.class 文件，比如编写一个简单的 ByteCodeDemo 类，如下图 2 的左侧部分：</p> <p><img src="https://user-gold-cdn.xitu.io/2019/9/10/16d19bdf44c9f803?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="图2 示例代码（左侧）及对应的字节码（右侧）"></p> <p>编译后生成 ByteCodeDemo.class 文件，打开后是一堆十六进制数，按字节为单位进行分割后展示如图 2 右侧部分所示。上文提及过，JVM 对于字节码是有规范要求的，那么看似杂乱的十六进制符合什么结构呢？JVM 规范要求每一个字节码文件都要由十部分按照固定的顺序组成，整体结构如图 3 所示。接下来我们将一一介绍这十部分：</p> <p><img src="https://user-gold-cdn.xitu.io/2019/9/10/16d19bdf4505c321?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="图3 JVM规定的字节码结构"></p> <p><strong>（1）魔数（Magic Number）</strong></p> <p>每个 <code>.class</code> 文件的头 4 个字节称为 <strong><code>魔数（magic number）</code></strong>，它的唯一作用是确定这个文件是否为一个能被虚拟机接收的 <code>.class</code> 文件。魔数的固定值为：<code>0xCAFEBABE</code>。</p> <blockquote><p>有趣的是，魔数的固定值是 Java 之父 James Gosling 制定的，为 CafeBabe（咖啡宝贝），而 Java 的图标为一杯咖啡。</p></blockquote> <p><strong>（2）版本号（Version）</strong></p> <p>版本号为魔数之后的 4 个字节，<strong>前两个字节表示次版本号（Minor Version），后两个字节表示主版本号（Major Version）</strong>。</p> <p>举例来说，如果版本号为：“00 00 00 34”。那么，次版本号转化为十进制为 0，主版本号转化为十进制为 52，在 Oracle 官网中查询序号 52 对应的主版本号为 1.8，所以编译该文件的 Java 版本号为 1.8.0。</p> <p><strong>（3）常量池（Constant Pool）</strong></p> <p>紧接着主版本号之后的字节为常量池入口。</p> <p>常量池主要存放两类常量：</p> <ul><li><strong>字面量</strong> - 如文本字符串、声明为 <code>final</code> 的常量值。</li> <li><strong>符号引用</strong> <ul><li>类和接口的全限定名</li> <li>字段的名称和描述符</li> <li>方法的名称和描述符</li></ul></li></ul> <p>常量池整体上分为两部分：常量池计数器以及常量池数据区，如下图 4 所示。</p> <p><img src="https://user-gold-cdn.xitu.io/2019/9/10/16d19bdf460b4b9d?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="图4 常量池的结构"></p> <ul><li><strong>常量池计数器（constant_pool_count）</strong> - 由于常量的数量不固定，所以需要先放置两个字节来表示常量池容量计数值。图 2 中示例代码的字节码前 10 个字节如下图 5 所示，将十六进制的 24 转化为十进制值为 36，排除掉下标“0”，也就是说，这个类文件中共有 35 个常量。</li></ul> <p><img src="https://user-gold-cdn.xitu.io/2019/9/10/16d19bdf44f56bb2?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="图5 前十个字节及含义"></p> <ul><li><strong>常量池数据区</strong> - 数据区是由（<code>constant_pool_count-1</code>）个 cp_info 结构组成，一个 cp_info 结构对应一个常量。在字节码中共有 14 种类型的 cp_info（如下图 6 所示），每种类型的结构都是固定的。</li></ul> <p><img src="https://upload-images.jianshu.io/upload_images/1986868-831993b2dc19dd90.png?imageMogr2/auto-orient/strip%7CimageView2/2/format/webp" alt="img"></p> <p>具体以 CONSTANT_utf8_info 为例，它的结构如下图 7 左侧所示。首先一个字节“tag”，它的值取自上图 6 中对应项的 Tag，由于它的类型是 utf8_info，所以值为“01”。接下来两个字节标识该字符串的长度 Length，然后 Length 个字节为这个字符串具体的值。从图 2 中的字节码摘取一个 cp_info 结构，如下图 7 右侧所示。将它翻译过来后，其含义为：该常量类型为 utf8 字符串，长度为一字节，数据为“a”。</p> <p><img src="https://user-gold-cdn.xitu.io/2019/9/10/16d19bdf731b4fee?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="图7 CONSTANT_utf8_info的结构（左）及示例（右）"></p> <p>其他类型的 cp_info 结构在本文不再赘述，整体结构大同小异，都是先通过 Tag 来标识类型，然后后续 n 个字节来描述长度和（或）数据。先知其所以然，以后可以通过 javap -verbose ByteCodeDemo 命令，查看 JVM 反编译后的完整常量池，如下图 8 所示。可以看到反编译结果将每一个 cp_info 结构的类型和值都很明确地呈现了出来。</p> <p><img src="https://user-gold-cdn.xitu.io/2019/9/10/16d19bdf732cbb78?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="图8 常量池反编译结果"></p> <p><strong>（4）访问标志</strong></p> <p>紧接着的 2 个字节代表访问标志，这个标志<strong>用于识别一些类或者接口的访问信息</strong>，描述该 Class 是类还是接口，以及是否被 <code>public</code>、<code>abstract</code>、<code>final</code> 等修饰符修饰。</p> <p>JVM 规范规定了如下图 9 的访问标志（Access_Flag）。需要注意的是，JVM 并没有穷举所有的访问标志，而是使用按位或操作来进行描述的，比如某个类的修饰符为 Public Final，则对应的访问修饰符的值为 ACC_PUBLIC | ACC_FINAL，即 0x0001 | 0x0010=0x0011。</p> <p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/1561473228816.png" alt="img"> <strong>（5）当前类名</strong></p> <p>访问标志后的 2 个字节，描述的是当前类的全限定名。这两个字节保存的值为常量池中的索引值，根据索引值就能在常量池中找到这个类的全限定名。</p> <p><strong>（6）父类名称</strong></p> <p>当前类名后的 2 个字节，描述父类的全限定名，同上，保存的也是常量池中的索引值。</p> <p><strong>（7）接口信息</strong></p> <p>父类名称后为 2 字节的接口计数器，描述了该类或父类实现的接口数量。紧接着的 n 个字节是所有接口名称的字符串常量的索引值。</p> <p><strong>（8）字段表</strong></p> <p>字段表用于描述类和接口中声明的变量，包含类级别的变量以及实例变量，但是不包含方法内部声明的局部变量。字段表也分为两部分，第一部分为两个字节，描述字段个数；第二部分是每个字段的详细信息 fields_info。字段表结构如下图所示：</p> <p><img src="https://user-gold-cdn.xitu.io/2019/9/10/16d19bdf73378788?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="图10 字段表结构"></p> <p>以图 2 中字节码的字段表为例，如下图 11 所示。其中字段的访问标志查图 9，0002 对应为 Private。通过索引下标在图 8 中常量池分别得到字段名为“a”，描述符为“I”（代表 int）。综上，就可以唯一确定出一个类中声明的变量 private int a。</p> <p><img src="https://user-gold-cdn.xitu.io/2019/9/10/16d19bdf734cb782?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="图11 字段表示例"></p> <p><strong>（9）方法表</strong></p> <p>字段表结束后为方法表，方法表也是由两部分组成，第一部分为两个字节描述方法的个数；第二部分为每个方法的详细信息。方法的详细信息较为复杂，包括方法的访问标志、方法名、方法的描述符以及方法的属性，如下图所示：</p> <p><img src="https://user-gold-cdn.xitu.io/2019/9/10/16d19bdf7333358e?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="图12 方法表结构"></p> <p>方法的权限修饰符依然可以通过图 9 的值查询得到，方法名和方法的描述符都是常量池中的索引值，可以通过索引值在常量池中找到。而“方法的属性”这一部分较为复杂，直接借助 javap -verbose 将其反编译为人可以读懂的信息进行解读，如图 13 所示。可以看到属性中包括以下三个部分：</p> <ul><li>“Code 区”：源代码对应的 JVM 指令操作码，在进行字节码增强时重点操作的就是“Code 区”这一部分。</li> <li>“LineNumberTable”：行号表，将 Code 区的操作码和源代码中的行号对应，Debug 时会起到作用（源代码走一行，需要走多少个 JVM 指令操作码）。</li> <li>“LocalVariableTable”：本地变量表，包含 This 和局部变量，之所以可以在每一个方法内部都可以调用 This，是因为 JVM 将 This 作为每一个方法的第一个参数隐式进行传入。当然，这是针对非 Static 方法而言。</li></ul> <p><img src="https://user-gold-cdn.xitu.io/2019/9/10/16d19bdf9d3f442f?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="图13 反编译后的方法表"></p> <p><strong>（10）附加属性表</strong></p> <p>字节码的最后一部分，该项存放了在该文件中类或接口所定义属性的基本信息。</p> <h3 id="字节码操作集合"><a href="#字节码操作集合" class="header-anchor">#</a> 字节码操作集合</h3> <p>在上图 13 中，Code 区的红色编号 0 ～ 17，就是.java 中的方法源代码编译后让 JVM 真正执行的操作码。为了帮助人们理解，反编译后看到的是十六进制操作码所对应的助记符，十六进制值操作码与助记符的对应关系，以及每一个操作码的用处可以查看 Oracle 官方文档进行了解，在需要用到时进行查阅即可。比如上图中第一个助记符为 iconst_2，对应到图 2 中的字节码为 0x05，用处是将 int 值 2 压入操作数栈中。以此类推，对 0~17 的助记符理解后，就是完整的 add()方法的实现。</p> <h3 id="操作数栈和字节码"><a href="#操作数栈和字节码" class="header-anchor">#</a> 操作数栈和字节码</h3> <p>JVM 的指令集是基于栈而不是寄存器，基于栈可以具备很好的跨平台性（因为寄存器指令集往往和硬件挂钩），但缺点在于，要完成同样的操作，基于栈的实现需要更多指令才能完成（因为栈只是一个 FILO 结构，需要频繁压栈出栈）。另外，由于栈是在内存实现的，而寄存器是在 CPU 的高速缓存区，相较而言，基于栈的速度要慢很多，这也是为了跨平台性而做出的牺牲。</p> <p>我们在上文所说的操作码或者操作集合，其实控制的就是这个 JVM 的操作数栈。为了更直观地感受操作码是如何控制操作数栈的，以及理解常量池、变量表的作用，将 add()方法的对操作数栈的操作制作为 GIF，如下图 14 所示，图中仅截取了常量池中被引用的部分，以指令 iconst_2 开始到 ireturn 结束，与图 13 中 Code 区 0~17 的指令一一对应：</p> <p><img src="https://user-gold-cdn.xitu.io/2019/9/10/16d19bdf9f0ee846?imageslim" alt="图14 控制操作数栈示意图"></p> <h3 id="字节码工具"><a href="#字节码工具" class="header-anchor">#</a> 字节码工具</h3> <p>如果每次查看反编译后的字节码都使用 javap 命令的话，好非常繁琐。这里推荐一个 Idea 插件：<a href="https://plugins.jetbrains.com/plugin/9248-jclasslib-bytecode-viewer" target="_blank" rel="noopener noreferrer">jclasslib<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。使用效果如图 15 所示，代码编译后在菜单栏&quot;View&quot;中选择&quot;Show Bytecode With jclasslib&quot;，可以很直观地看到当前字节码文件的类信息、常量池、方法区等信息。</p> <p><img src="https://user-gold-cdn.xitu.io/2019/9/10/16d19bdfa08b6904?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="图15 jclasslib查看字节码"></p> <h2 id="字节码增强"><a href="#字节码增强" class="header-anchor">#</a> 字节码增强</h2> <h3 id="asm"><a href="#asm" class="header-anchor">#</a> Asm</h3> <p>对于需要手动操纵字节码的需求，可以使用 Asm，它可以直接生产 <code>.class</code>字节码文件，也可以在类被加载入 JVM 之前动态修改类行为（如下图 17 所示）。</p> <p>Asm 的应用场景有 AOP（Cglib 就是基于 Asm）、热部署、修改其他 jar 包中的类等。当然，涉及到如此底层的步骤，实现起来也比较麻烦。</p> <p><img src="https://user-gold-cdn.xitu.io/2019/9/10/16d19bdfad737fd7?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="图17 Asm修改字节码"></p> <p>Asm 有两类 API：核心 API 和树形 API</p> <h4 id="核心-api"><a href="#核心-api" class="header-anchor">#</a> 核心 API</h4> <p>Asm Core API 可以类比解析 XML 文件中的 SAX 方式，不需要把这个类的整个结构读取进来，就可以用流式的方法来处理字节码文件。好处是非常节约内存，但是编程难度较大。然而出于性能考虑，一般情况下编程都使用 Core API。在 Core API 中有以下几个关键类：</p> <ul><li>ClassReader：用于读取已经编译好的.class 文件。</li> <li>ClassWriter：用于重新构建编译后的类，如修改类名、属性以及方法，也可以生成新的类的字节码文件。</li> <li>各种 Visitor 类：如上所述，CoreAPI 根据字节码从上到下依次处理，对于字节码文件中不同的区域有不同的 Visitor，比如用于访问方法的 MethodVisitor、用于访问类变量的 FieldVisitor、用于访问注解的 AnnotationVisitor 等。为了实现 AOP，重点要使用的是 MethodVisitor。</li></ul> <h4 id="树形-api"><a href="#树形-api" class="header-anchor">#</a> 树形 API</h4> <p>Asm Tree API 可以类比解析 XML 文件中的 DOM 方式，把整个类的结构读取到内存中，缺点是消耗内存多，但是编程比较简单。TreeApi 不同于 CoreAPI，TreeAPI 通过各种 Node 类来映射字节码的各个区域，类比 DOM 节点，就可以很好地理解这种编程方式。</p> <h3 id="javassist"><a href="#javassist" class="header-anchor">#</a> Javassist</h3> <p>利用 Javassist 实现字节码增强时，可以无须关注字节码刻板的结构，其优点就在于编程简单。直接使用 java 编码的形式，而不需要了解虚拟机指令，就能动态改变类的结构或者动态生成类。</p> <p>其中最重要的是 ClassPool、CtClass、CtMethod、CtField 这四个类：</p> <ul><li><code>CtClass（compile-time class）</code> - 编译时类信息，它是一个 class 文件在代码中的抽象表现形式，可以通过一个类的全限定名来获取一个 CtClass 对象，用来表示这个类文件。</li> <li><code>ClassPool</code> - 从开发视角来看，ClassPool 是一张保存 CtClass 信息的 HashTable，key 为类名，value 为类名对应的 CtClass 对象。当我们需要对某个类进行修改时，就是通过 pool.getCtClass(&quot;className&quot;)方法从 pool 中获取到相应的 CtClass。</li> <li><code>CtMethod</code>、<code>CtField</code> - 这两个比较好理解，对应的是类中的方法和属性。</li></ul> <h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h2> <ul><li><a href="https://book.douban.com/subject/34907497/" target="_blank" rel="noopener noreferrer">《深入理解 Java 虚拟机》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.jianshu.com/p/252f381a6bc4" target="_blank" rel="noopener noreferrer">一文让你明白 Java 字节码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.im/post/5d773ae1518825058772843c" target="_blank" rel="noopener noreferrer">Java 字节码增强探秘<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://asm.ow2.io/asm4-guide.pdf" target="_blank" rel="noopener noreferrer">Asm 4.0 官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/jboss-javassist/javassist" target="_blank" rel="noopener noreferrer">Javassist Github<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <div class="page-slot page-slot-bottom">
  <div class="wwads-cn wwads-horizontal pageB" data-id="136" style="width:100%;max-height:80px;min-height:auto;"></div>
  <style>
    .pageB img{width:80px!important;}
    .wwads-horizontal .wwads-text, .wwads-content .wwads-text{line-height:1;}
  </style>
  </div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/dunwu/javacore/edit/master/docs/06.JVM/04.JVM字节码.md" target="_blank" rel="noopener noreferrer">📝 帮助改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/javacore/tags/?tag=Java" title="标签">#Java</a><a href="/javacore/tags/?tag=JavaSE" title="标签">#JavaSE</a><a href="/javacore/tags/?tag=JVM" title="标签">#JVM</a><a href="/javacore/tags/?tag=%E5%AD%97%E8%8A%82%E7%A0%81" title="标签">#字节码</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/05/24, 06:51:20</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/javacore/pages/c5a5b6/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">JVM 垃圾收集</div></a> <a href="/javacore/pages/17aad9/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">JVM 类加载</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/javacore/pages/c5a5b6/" class="prev">JVM 垃圾收集</a></span> <span class="next"><a href="/javacore/pages/17aad9/">JVM 类加载</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/javacore/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/javacore/pages/496a7e/"><div>
            源码级深度理解 Java SPI
            <!----></div></a> <span class="date">04-26</span></dt></dl><dl><dd>02</dd> <dt><a href="/javacore/pages/16e728/"><div>
            JavaAgent 应用指南
            <!----></div></a> <span class="date">04-08</span></dt></dl><dl><dd>03</dd> <dt><a href="/javacore/pages/2950ba/"><div>
            Java 基础语法特性
            <!----></div></a> <span class="date">01-25</span></dt></dl> <dl><dd></dd> <dt><a href="/javacore/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:forbreak@163.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/dunwu" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2022
    <span>钝悟（dunwu） | CC-BY-SA-4.0</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><span class="close-but">×</span> <div>
    <div class="wwads-cn wwads-vertical windowRB" data-id="136" style="max-width:160px;
    min-width: auto;min-height:auto;"></div>
    <style>
      .windowRB{ padding: 0;}
      .windowRB .wwads-img{margin-top: 10px;}
      .windowRB .wwads-content{margin: 0 10px 10px 10px;}
      .custom-html-window-rb .close-but{
        display: none;
      }
    </style>
  </div></div></div></div><div class="global-ui"></div></div>
    <script src="/javacore/assets/js/app.a913443d.js" defer></script><script src="/javacore/assets/js/2.a3d580fb.js" defer></script><script src="/javacore/assets/js/55.dd38f52a.js" defer></script>
  </body>
</html>
